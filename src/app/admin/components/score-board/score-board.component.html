<div>
  <div class="row">
    <div class="col-lg-3 col-md-4 col-sm-6">
      <mat-form-field class="form-input">
        <mat-label>Sezonlar</mat-label>
        <mat-select
          matInput
          placeholder="Sezon"
          [(ngModel)]="seasonSelectionId"
          (selectionChange)="onSeasonChange(seasonSelectionId)"
        >
          <mat-option [value]="null">
            {{ "Seçiniz" }}
          </mat-option>
          <mat-option *ngFor="let season of seasonList" [value]="season.id">
            {{ season.seasonName }}
          </mat-option>
        </mat-select>
      </mat-form-field>
    </div>

    <div class="col-lg-3 col-md-4 col-sm-6">
      <mat-form-field class="form-input">
        <mat-label>Ligler</mat-label>
        <mat-select
          matInput
          placeholder="Lig"
          [(ngModel)]="leagueSelectionId"
          (selectionChange)="onLeagueChange(leagueSelectionId)"
        >
          <mat-option [value]="null">
            {{ "Seçiniz" }}
          </mat-option>
          <mat-option *ngFor="let league of leagueList" [value]="league.id">
            {{ league.leagueName }}
          </mat-option>
        </mat-select>
      </mat-form-field>
    </div>

    <div class="col-lg-3 col-md-4 col-sm-6">
      <mat-form-field class="form-input">
        <mat-label>Gruplar</mat-label>
        <mat-select
          matInput
          placeholder="Grup"
          [(ngModel)]="groupstageSelectionId"
          (selectionChange)="onGroupstageChange(groupstageSelectionId)"
        >
          <mat-option [value]="null">
            {{ "Seçiniz" }}
          </mat-option>
          <mat-option *ngFor="let group of groupstageList" [value]="group.id">
            {{ group.groupName }}
          </mat-option>
        </mat-select>
      </mat-form-field>
    </div>

    <div class="col-lg-3 col-md-4 col-sm-6">
      <mat-form-field class="form-input">
        <mat-label>Hafta</mat-label>
        <mat-select
          matInput
          placeholder="Hafta"
          [(ngModel)]="matchWeekSelectionValue"
        >
          <mat-option [value]="null">
            {{ "Seçiniz" }}
          </mat-option>
          <mat-option
            *ngFor="let week of weekSequenceList"
            [value]="week.weekSequence"
          >
            {{ week.weekSequence + ". Hafta" }}
          </mat-option>
        </mat-select>
      </mat-form-field>
    </div>

    <div class="col-lg-3 col-md-4 col-sm-6">
      <mat-form-field class="form-input">
        <mat-label>Maç Numarası</mat-label>
        <input matInput type="text" [(ngModel)]="matchNoInputValue" />
      </mat-form-field>
    </div>

    <div class="col-lg-3 col-md-4 col-sm-6">
      <mat-form-field class="form-input">
        <mat-label>Sahalar</mat-label>
        <mat-select
          matInput
          placeholder="Saha"
          [(ngModel)]="stadiumSelectionId"
        >
          <mat-option [value]="null">
            {{ "Seçiniz" }}
          </mat-option>
          <mat-option *ngFor="let stadium of stadiumList" [value]="stadium.id">
            {{ stadium.stadiumName }}
          </mat-option>
        </mat-select>
      </mat-form-field>
    </div>

    <div class="col-lg-3 col-md-4 col-sm-6">
      <mat-form-field class="form-input">
        <mat-label>Ev Sahibi Takım</mat-label>
        <mat-select
          matInput
          placeholder="Ev Sahibi Takım"
          [(ngModel)]="homeTeamSelectionId"
        >
          <mat-option [value]="null">
            {{ "Seçiniz" }}
          </mat-option>
          <mat-option *ngFor="let team of teamList" [value]="team.id">
            {{ team.officialName }}
          </mat-option>
        </mat-select>
      </mat-form-field>
    </div>

    <div class="col-lg-3 col-md-4 col-sm-6">
      <mat-form-field class="form-input">
        <mat-label>Misafir Takım</mat-label>
        <mat-select
          matInput
          placeholder="Misafir Takım"
          [(ngModel)]="awayTeamSelectionId"
        >
          <mat-option [value]="null">
            {{ "Seçiniz" }}
          </mat-option>
          <mat-option *ngFor="let team of teamList" [value]="team.id">
            {{ team.officialName }}
          </mat-option>
        </mat-select>
      </mat-form-field>
    </div>

    <div class="col-lg-3 col-md-4 col-sm-6">
      <mat-form-field class="form-input">
        <mat-label>Müsabaka Durumu</mat-label>
        <mat-select
          matInput
          placeholder="Müsabaka Durumu"
          [(ngModel)]="matchStatusSelectionValue"
        >
          <mat-option [value]="null">
            {{ "Seçiniz" }}
          </mat-option>
          <mat-option
            *ngFor="let status of matchStatusList"
            [value]="status.name"
          >
            <mat-icon class="{{ findMatchStatusClass(status.name) }}"
              >circle</mat-icon
            >
            {{ status.value }}
          </mat-option>
        </mat-select>
      </mat-form-field>
    </div>

    <div class="col-lg-3 col-md-4 col-sm-6">
      <mat-form-field class="form-input">
        <mat-label>İlçe</mat-label>
        <mat-select
          matInput
          placeholder="İlçe"
          [(ngModel)]="townSelectionValue"
        >
          <mat-option *ngFor="let town of townList" [value]="town.name">
            {{ findTown(town.name) }}
          </mat-option>
        </mat-select>
      </mat-form-field>
    </div>

    <div class="col-lg-3 col-md-4 col-sm-6">
      <mat-form-field class="form-input">
        <mat-label>Başlangıç Tarihi</mat-label>
        <input
          matInput
          type="date"
          [(ngModel)]="startDatePickedValue"
          onfocus="this.showPicker()"
        />
      </mat-form-field>
    </div>

    <div class="col-lg-3 col-md-4 col-sm-6">
      <mat-form-field class="form-input">
        <mat-label>Bitiş Tarihi</mat-label>
        <input
          matInput
          type="date"
          [(ngModel)]="endDatePickedValue"
          onfocus="this.showPicker()"
        />
      </mat-form-field>
    </div>
  </div>

  <button
    mat-raised-button
    type="button"
    class="btn-search"
    color="primary"
    (click)="onSearch()"
  >
    <mat-icon>search</mat-icon>
    Arama
  </button>

  <div class="container-score-board">
    <div class="alert alert-light" *ngIf="fixtureList.length <= 0">
      <div class="" role="alert">
        <mat-card-title>
          <strong>Sonuç Bulunamadı!</strong>
          Arama anahtarlarınızı belirtiniz.
        </mat-card-title>
        <mat-card-subtitle>
          En az iki arama anahtarı girilmesi zorunludur!
        </mat-card-subtitle>
      </div>
    </div>

    <div class="row">
      <div class="col-lg-3 col-md-6 col-sm-12">
        <button
          mat-raised-button
          type="button"
          class="btn-action btn-import"
          matTooltip="İçe Aktar"
          [disabled]="fixtureList.length <= 0"
          [hidden]="fixtureList.length <= 0"
        >
          İçe Aktar
        </button>
      </div>

      <div class="col-lg-3 col-md-6 col-sm-12">
        <button
          mat-raised-button
          type="button"
          class="btn-action btn-export"
          matTooltip="Dışa Aktar"
          [disabled]="fixtureList.length <= 0"
          [hidden]="fixtureList.length <= 0"
        >
          Dışa Aktar
        </button>
      </div>

      <div class="col-lg-3 col-md-6 col-sm-12">
        <button
          mat-raised-button
          type="button"
          color="warn"
          class="btn-action btn-clear"
          matTooltip="Temizle"
          [disabled]="fixtureList.length <= 0"
          [hidden]="fixtureList.length <= 0"
        >
          Temizle
        </button>
      </div>

      <div class="col-lg-3 col-md-6 col-sm-12">
        <button
          mat-raised-button
          type="button"
          color="primary"
          class="btn-action btn-save"
          matTooltip="Kaydet"
          (click)="onSave()"
          [disabled]="fixtureList.length <= 0"
          [hidden]="fixtureList.length <= 0"
        >
          Kaydet
        </button>
      </div>
    </div>

    <div class="row" *ngIf="fixtureList.length > 0">
      <div
        class="col-lg-12 col-md-12 col-sm-12"
        *ngFor="let fixture of fixtureList"
      >
        <mat-card>
          <mat-card-header class="score-card-header">
            <mat-card-title-group>
              <mat-card-subtitle class="font-score-card-header">
                {{
                  fixture.seasonName +
                    " " +
                    fixture.leagueName +
                    " " +
                    fixture.groupstageName +
                    " " +
                    fixture.matchWeek +
                    ". HAFTA"
                }}
              </mat-card-subtitle>
              <mat-card-subtitle class="font-score-card-header">
                {{ "Müsabaka Numarası: " + fixture.matchNo }}
              </mat-card-subtitle>
              <mat-card-subtitle><p></p></mat-card-subtitle>
            </mat-card-title-group>
          </mat-card-header>

          <mat-card-content class="score-card-content">
            <p></p>
            <div class="row" [align]="'center'">
              <div class="col-lg-4 col-md-12 col-sm-12">
                <mat-card-title class="font-team">
                  <fa-icon
                    *ngIf="
                      fixture.homeTeamIsExpelled || fixture.homeTeamIsReceded
                    "
                    [icon]="fontAwesomeIconList.faCircleInfo"
                    class="icon icon-circle-info"
                    matTooltip="{{
                      fixture.homeTeamExpelledOrRecededExplanation
                    }}"
                  >
                  </fa-icon>
                  {{ findTeamName(fixture.homeTeamId) }}
                  <fa-icon
                    *ngIf="fixture.isHomeTeamWinByForfeit"
                    [icon]="fontAwesomeIconList.faCircleH"
                    class="icon icon-circle-h"
                    matTooltip="Hükmen"
                  >
                  </fa-icon>
                </mat-card-title>
                <mat-card-title>
                  <mat-form-field class="form-input input-score">
                    <mat-label>Skor</mat-label>
                    <input
                      matInput
                      #homeTeamScore
                      type="number"
                      [value]="fixture.homeTeamScore"
                      (keypress)="numbersOnly($event)"
                      (change)="
                        onScoreChange(
                          fixture.matchNo || null,
                          homeTeamScore.value || null,
                          awayTeamScore.value || null
                        )
                      "
                    />
                  </mat-form-field>
                </mat-card-title>

                <mat-card-title>
                  <mat-form-field class="form-input input-point">
                    <mat-label>Puan</mat-label>
                    <input
                      matInput
                      #homeTeamPoint
                      type="number"
                      [value]="fixture.homeTeamPoint"
                      (keypress)="numbersOnly($event)"
                      (change)="
                        onPointChange(
                          fixture.matchNo || null,
                          homeTeamPoint.value || null,
                          awayTeamPoint.value || null
                        )
                      "
                    />
                  </mat-form-field>
                </mat-card-title>
              </div>

              <div class="col-lg-4 col-md-12 col-sm-12">
                <mat-card-subtitle>
                  <strong>
                    {{ findStadiumName(fixture.stadiumId) }}
                  </strong>
                </mat-card-subtitle>
                <mat-card-subtitle>
                  <strong>
                    {{ fixture.matchDate | date : "dd.MM.yyyy HH:mm" }}
                  </strong>
                </mat-card-subtitle>
                <mat-card-subtitle>
                  <mat-icon
                    class="{{ findMatchStatusClass(fixture.matchStatus) }}"
                    matTooltip="{{ findMatchStatus(fixture.matchStatus) }}"
                    >circle</mat-icon
                  >
                </mat-card-subtitle>
              </div>

              <div class="col-lg-4 col-md-12 col-sm-12">
                <mat-card-title class="font-team">
                  <fa-icon
                    *ngIf="
                      fixture.awayTeamIsExpelled || fixture.awayTeamIsReceded
                    "
                    [icon]="fontAwesomeIconList.faCircleInfo"
                    class="icon icon-circle-info"
                    matTooltip="{{
                      fixture.awayTeamExpelledOrRecededExplanation
                    }}"
                  >
                  </fa-icon>
                  {{ findTeamName(fixture.awayTeamId) }}
                  <fa-icon
                    *ngIf="fixture.isAwayTeamWinByForfeit"
                    [icon]="fontAwesomeIconList.faCircleH"
                    class="icon icon-circle-h"
                    matTooltip="Hükmen"
                  >
                  </fa-icon>
                </mat-card-title>
                <mat-card-title>
                  <mat-form-field class="form-input input-score">
                    <mat-label>Skor</mat-label>
                    <input
                      matInput
                      #awayTeamScore
                      type="number"
                      [value]="fixture.awayTeamScore"
                      (keypress)="numbersOnly($event)"
                      (change)="
                        onScoreChange(
                          fixture.matchNo || null,
                          homeTeamScore.value || null,
                          awayTeamScore.value || null
                        )
                      "
                    />
                  </mat-form-field>
                </mat-card-title>

                <mat-card-title>
                  <mat-form-field class="form-input input-point">
                    <mat-label>Puan</mat-label>
                    <input
                      matInput
                      #awayTeamPoint
                      type="number"
                      [value]="fixture.awayTeamPoint"
                      (keypress)="numbersOnly($event)"
                      (change)="
                        onPointChange(
                          fixture.matchNo || null,
                          homeTeamPoint.value || null,
                          awayTeamPoint.value || null
                        )
                      "
                    />
                  </mat-form-field>
                </mat-card-title>
              </div>

              <div class="col-2"></div>
              <div class="col-4">
                <mat-form-field class="form-input">
                  <mat-label>Hükmen Galip</mat-label>
                  <mat-select
                    matInput
                    placeholder="Hükmen Galip"
                    #winnerByForfeit
                    [value]="
                      findTeamWinByForfeit(
                        fixture.isHomeTeamWinByForfeit,
                        fixture.isAwayTeamWinByForfeit
                      )
                    "
                    (selectionChange)="
                      onWinByForfeitChange(
                        fixture.matchNo || null,
                        winnerByForfeit.value || null
                      )
                    "
                  >
                    <mat-option [value]="null">Seçiniz</mat-option>
                    <mat-option [value]="'homeTeamWinByForfeit'"
                      >Ev Sahibi Takım</mat-option
                    >
                    <mat-option [value]="'awayTeamWinByForfeit'"
                      >Misafir Takım</mat-option
                    >
                  </mat-select>
                </mat-form-field>
              </div>

              <div class="col-4">
                <mat-form-field class="form-input">
                  <mat-label>Müsabaka Durumu</mat-label>
                  <mat-select
                    matInput
                    placeholder="Müsabaka Durumu"
                    #matchStatus
                    [value]="fixture.matchStatus"
                    (selectionChange)="
                      onMatchStatusChange(
                        fixture.matchNo || null,
                        matchStatus.value || null
                      )
                    "
                  >
                    <mat-option
                      *ngFor="let status of matchStatusList"
                      [value]="status.name"
                    >
                      <mat-icon class="{{ findMatchStatusClass(status.name) }}"
                        >circle</mat-icon
                      >
                      {{ status.value }}
                    </mat-option>
                  </mat-select>
                </mat-form-field>
              </div>
              <div class="col-2"></div>
            </div>
          </mat-card-content>
        </mat-card>
      </div>
    </div>
  </div>
</div>
