module.exports = {
  "getPointBoard" : "SELECT t.id as teamId, t.officialname AS teamOfficialName, t.shortname as teamShortName, t.imagepath AS teamImagePath, coalesce(sum(case when f.matchstatus in ('PLAYED', 'BYFORFEIT') then 1 else 0 end), 0) as matchPlayed, coalesce(sum(CASE WHEN f.hometeamid = t.id THEN CASE WHEN f.hometeamscore > f.awayteamscore THEN 1 END ELSE CASE WHEN f.hometeamscore < f.awayteamscore THEN 1 END END), 0) AS matchWin, coalesce(sum(CASE WHEN f.hometeamid = t.id THEN CASE WHEN f.hometeamscore = f.awayteamscore THEN 1 END ELSE CASE WHEN f.hometeamscore = f.awayteamscore THEN 1 END END), 0) AS matchDraw, coalesce(sum(CASE WHEN f.hometeamid = t.id THEN CASE WHEN f.hometeamscore < f.awayteamscore THEN 1 END ELSE CASE WHEN f.hometeamscore > f.awayteamscore THEN 1 END END), 0) AS matchLose, coalesce(sum(CASE WHEN f.hometeamid = t.id THEN f.hometeamscore ELSE f.awayteamscore END), 0) AS goalScored, coalesce(sum(CASE WHEN f.hometeamid = t.id THEN f.awayteamscore ELSE f.hometeamscore END), 0) AS goalConceded, coalesce(sum(CASE WHEN f.hometeamid = t.id THEN f.hometeamscore ELSE f.awayteamscore END) - sum(CASE WHEN f.hometeamid = t.id THEN f.awayteamscore ELSE f.hometeamscore END), 0) as goalAverage, coalesce(sum(CASE WHEN f.hometeamid = t.id THEN f.hometeampoint ELSE f.awayteampoint END), 0) AS pointTotal FROM FIXTURES f JOIN TEAMS t ON t.id = f.hometeamid OR t.id = f.awayteamid WHERE f.groupstageid = ? AND f.matchweek <= ? GROUP BY t.id ORDER BY pointTotal DESC, goalAverage DESC, goalScored DESC, teamOfficialName"
}
